<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>T9n Test</title>
  <script src="../../build/t9n.js"></script>
  <script src="./require.js"></script>
</head>

<body>
  <h2>This html page shows how to use T9n in the browser, RequireJS is used to
    make the import of language files ease .</h2>
  <p data-t9n="sentence"></p>
  <p>Current language: <span data-t9n="language"></span></p>
  <p data-t9n="emailResetLink"></p>

  <script>
    // an improvised template language
    const printToken = (token, markIfMissing = true, args = {}) => print(token, T9n.get(token, markIfMissing, args));
    const print = (token, translation) => document.querySelector(`[data-t9n="${token}"]`).innerText = translation;

    T9n.map('de', {'pun': '@{subject} @{predicate} @{adverb} @{object}. Frische @{object} @{predicate} @{subject}.'});
    T9n.setLanguage('de');
    printToken('pun', true, {
      subject: 'Fischer\'s Fritz',
      predicate: 'fischt',
      object: 'Fische',
      adverb: 'frische',
    });

    requirejs(['../../build/es.js'], function(es) {
      T9n.map('es', es);
      T9n.setLanguage('es');
      print('language', T9n.getLanguage());
      printToken('emailResetLink');
    });
  </script>
</body>
</html>
